"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[12260],{107106:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var n=r(667294),a=r(616550),l=r(20256),i=r(415761),o=r(19963),s=r(182997),d=r(909512),c=r(233846),u=r(94970),f=r(344500),h=r(241544),_=r(775232),p=r(635943),b=r(785893);function x(e){let{preload:t}=(0,p.G)(),{tabs:r,onChange:n,...i}=e,o=r.map(e=>{switch(e.kind){case"Entrypoint":return{href:(0,a.Gn)(e.route.kind,e.route.routeParams),...e.tab,_onMouseEnter:r=>{let n=e.preloadExtent??"Both";"None"!==n&&t(e.route,n),e.tab._onMouseEnter?.(r)}};case"Legacy":return e.tab;default:return(0,_.Z)(e)}});return(0,b.jsx)(l.mQ,{onChange:e=>{let a=r[e.activeTabIndex];a?.kind==="Entrypoint"&&t(a.route,"Both"),n?.(e)},tabs:o,...i})}let y=new l.Ry(6),m=new l.Ry(1),g={__style:{background:"linear-gradient(#B237A5, #2277B9)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}};function w({boards:e,currentTabId:t,currentTabIndex:r,headerShadowContext:a,hideTabs:_,inLocalNavigation:p,isPartner:w,isTodayTabEnabled:v,nonFixed:S}){let I=(0,c.ZP)(),{logContextEvent:k}=(0,o.v)(),E=(0,n.useRef)(null),P=(0,n.useRef)(null),C=(0,n.useRef)(null),[j,A]=(0,n.useState)(0),[z,T]=(0,n.useState)(!1),[N,B]=(0,n.useState)(!1),[F,R]=(0,n.useState)(0),[Z,M]=(0,n.useState)(0),H=(e,t)=>(0,b.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:`linear-gradient(to ${"back"===e?"right":"left"}, #FFFFFF 51.56%, rgba(255, 255, 255, 0) 100%`,padding:"back"===e?"8px 32px 8px 0":"8px 0 8px 32px"}},left:"back"===e,position:"absolute",right:"forward"===e,children:(0,b.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px 0px rgba(0, 0, 0, 0.1)"}},rounding:"circle",children:(0,b.jsx)(l.hU,{accessibilityLabel:"back"===e?I._('Previous tabs', 'localNav.tab.backArrow', 'accessibility label for local navigation back arrow'):I._('Next tabs', 'localNav.tab.fwdArrow', 'accessibility label for local navigation forward arrow'),bgColor:"white",icon:"back"===e?"arrow-back":"arrow-forward",onClick:t,size:"sm"})})}),L=(t=>{let n=[{kind:"Legacy",tab:{href:"/homefeed/",id:"homefeed",text:w&&!p?I._('For you', 'authHomefeed.moreIdeasNav.homefeed', 'Homefeed tab shown when user is a partner'):I._('All', 'authHomefeed.moreIdeasNav.homefeed', 'Homefeed tab shown when user is not a partner ')}}];if(w&&!p)return v?[...n,{kind:"Entrypoint",route:{kind:"/today/",routeParams:{}},tab:{id:"today",text:I._('Explore', 'authHomefeed.moreIdeasNav.explore', 'Explore tab shown when user is a partner')},preloadExtent:t}]:n;if(e&&p){let t=e.findIndex(e=>"board_more_ideas"===e.tab_type),a=e.findIndex(e=>"pinterest_picks"===e.tab_type);return[...n,...e.map((e,n)=>({kind:"Legacy",tab:{href:"pinterest_picks"===e.tab_type?"/?holidayFinds=true":`/?boardId=${e.id}`,id:String(e.id),text:"pinterest_picks"===e.tab_type&&r!==a+1?(0,b.jsx)(l.xu,{dangerouslySetInlineStyle:g,children:"Holiday finds"}):e.name,ref:n===t?P:void 0}}))]}return n})((0,h._)().preloadExtent),W=(0,n.useCallback)((e,t)=>{T(e>0),B(e<t)},[]),D=(0,n.useCallback)(e=>{let t=C.current;if(t&&null!=r){let n=t.children[0]?.children[0]?.children[r];if(n){let r=t.clientWidth,a=n.offsetLeft-(r-n.offsetWidth)/2;M(a=Math.max(0,Math.min(a,e))),W(a,e)}}},[r,W]),O=(0,n.useCallback)(()=>{let e=Math.min(Z+(j-90),F);M(e),W(e,F)},[Z,j,F,W]),G=(0,n.useCallback)(()=>{let e=Math.max(Z-(j-90),0);M(e),W(e,F)},[Z,j,F,W]);(0,n.useEffect)(()=>(a.setSubheaderShadow("moreIdeas"),E.current&&u.Z.addObstruction("top",E.current),()=>{a.setSubheaderShadow(null)}),[a]),(0,n.useEffect)(()=>{let e=(0,s.Z)(()=>{let e=C.current;if(e){let t=e.children[0]?.scrollWidth||0,r=e.clientWidth,n=Math.max(0,t-r);A(r),R(n),M(Math.min(Z,n)),D(n)}},200);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[Z,D]),(0,n.useEffect)(()=>{let e=C.current;if(e){let t=e.children[0]?.scrollWidth||0,r=e.clientWidth,n=Math.max(0,t-r);A(r),R(n),M(Math.min(0,n)),D(n)}},[D]);let U=p?r:L.findIndex(e=>e.tab.id===t),Y=U?L[U]:void 0;return(0,b.jsx)(l.xu,{ref:E,children:(0,b.jsx)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:{transform:_?"translateY(-100%)":"translateY(0)",transition:"all 0.3s ease-in-out",...a.isScrolled&&!p?f.Rz:{}}},position:S?"static":"fixed",width:"100%",zIndex:y,children:(0,b.jsxs)(l.xu,{ref:C,alignItems:"stretch",dangerouslySetInlineStyle:{__style:{overflowX:"clip"}},display:"flex",justifyContent:!w&&p?"start":"center",width:"100%",children:[(0,b.jsxs)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:`-${Z}px`,transition:"left 0.3s, right 0.3s"}},display:"flex",height:i.Z,justifyContent:!w&&p?"start":"center",paddingY:0,position:"relative",children:[(0,b.jsx)(x,{activeTabIndex:null!=U&&Y?U:0,onChange:({activeTabIndex:t,event:r})=>{r.preventDefault();let n=L[t];n&&k({aux_data:{index:t.toString()},component:13184,element:(({activeTabIndex:t,currentTab:r})=>{if(!w&&p&&e?.[t-1]?.tab_type==="pinterest_picks")return 14584;switch(r){case"homefeed":return 11081;case"today":return 11674;default:return 11082}})({activeTabIndex:t,currentTab:n.tab.id}),event_type:101,view_parameter:3173,view_type:1})},tabs:L}),!w&&p&&P?.current&&(0,b.jsx)(d.Qp,{anchor:P?.current,experienceIds:[506684],forceDirection:!0,idealDirection:"down",placementId:11,showCaret:!0,textWeight:"normal",zIndex:f.NW})]}),p&&!w&&(0,b.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"between",zIndex:m,children:[z&&H("back",G),N&&H("forward",O)]})]})})})}var v=r(363402),S=r(725e3),I=r(857147),k=r(882368),E=r(94053),P=r(381262),C=r(965319);function j({boards:e,currentTabIndex:t,hideTabs:r,inLocalNavigation:l,nonFixed:i}){let o=(0,P.bj)(),{setIsContentHeaderPresent:s}=(0,E.g)(),d=(0,a.TH)(),c=(0,k.Z)(),u=!!c.isAuth&&c.isPartner,f=(0,S.Z)(),h=f?{component:8,element:11674}:Object.freeze({});return((0,v.Z)(h),(0,n.useEffect)(()=>(s(!0),function(){s(!1)}),[]),u&&d||l)?(0,b.jsx)(w,{boards:e,currentTabId:function(){let{pathname:e,search:t}=d;if(u){if("/following/"===e)return"following";else if(e.includes((0,C.tG)()))return"today";else if("/homefeed/"===e&&""===t)return"homefeed"}return(({search:e})=>e&&"string"==typeof(0,I.mB)(e).boardId&&(0,I.mB)(e).boardId||null)(d)}(),currentTabIndex:t,headerShadowContext:o,hideTabs:r,inLocalNavigation:l,isPartner:u,isTodayTabEnabled:f,nonFixed:i}):null}},363402:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(667294),a=r(19963),l=r(718369);let i=e=>{let t=(0,n.useRef)(!1),{logContextEvent:r}=(0,a.v)(),{viewType:i,viewParameter:o}=(0,l.SU)();(0,n.useEffect)(()=>{Object.entries(e).length>0&&!t.current&&i&&(r({event_type:13,view_type:i,view_parameter:o,...e}),t.current=!0)})}},817349:(e,t,r)=>{r.d(t,{Z:()=>n});let n={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]}},725e3:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(174646),a=r(817349),l=r(882368);function i(){let e=(0,n.B)(),t=(0,l.Z)(),r=t.isAuth?t.country:e.country;if(void 0===e||void 0===e.locale)return!1;let i=e.locale.substring(0,2);return!!a.Z[i]?.includes(r)}},241544:(e,t,r)=>{r.d(t,{_:()=>a});var n=r(967312);function a(){let{checkExperiment:e}=(0,n.F)(),t=e("entrypoints_today_page_prefetch");switch(t.group){case"prefetch_all":return{preloadExtent:"Both"};case"prefetch_only_js":return{preloadExtent:"OnlyJS"};case"control":return{preloadExtent:"None"};default:{let{anyEnabled:e}=t;return{preloadExtent:e?"Both":"None"}}}}},965319:(e,t,r)=>{function n(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function a(e){return n("/admin/",e)}function l(e){return n("/admin/oauth/logout/",e)}function i(e){return n("/today/",e)}r.d(t,{HF:()=>a,Kn:()=>l,tG:()=>i})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/MoreIdeasTabsNavCommon-191bc09dfa927da4.mjs.map